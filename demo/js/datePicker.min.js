function addClass(f,e){var d=f.className.split(" ");var b=true;for(var c=0,a=d.length;c<a;c++){if(d[c]===e){b=false}}if(b){f.className+=" "+e}}function removeClass(b,a){if(b.className.indexOf(a)>-1){b.className=b.className.replace(a,"")}}function getComputedStyleAttrValue(b,a,c){if(document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(b,c)[a]}else{if(window.getComputedStyle){return window.getComputedStyle(b,c)[a]}else{if(b.currentStyle){return b.currentStyle[a]}}}}function throttle(c,a,b){clearTimeout(c.id);c.id=setTimeout(function(){c.call(b)},a)}function chunk(a,e,b,c){setTimeout(function d(){var f=a.shift();e.call(c,f);if(a.length>0){setTimeout(d,b)}},b)}function addEventHandler(c,b,a){if(c.addEventListener){c.addEventListener(b,a,false)}else{if(c.attachEvent){c.attachEvent("on"+b,a)}else{c["on"+b]=a}}}function removeEventHandler(c,b,a){if(c.removeEventListener){c.removeEventListener(b,a)}else{if(c.detachEvent){c.detachEvent("on"+b,a)}else{c["on"+b]=null}}}function getEvent(a){return a?a:window.event}function getTarget(a){var b=getEvent(a);return b.target||b.srcElement}function preventDefault(a){var b=getEvent(a);if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}}function stopPropagation(a){var b=getEvent(a);if(b.stopPropagation){b.stopPropagation()}else{b.cancelBubble=true}}function showModule(c,b,a){if(typeof document.querySelector){showModule=function(f,e,d){document.querySelector("#"+f+" ."+e).style.display="block"}}else{if(typeof document.getElementsByClassName){showModule=function(f,e,d){document.getElementById(f).getElementsByClassName(e)[0].style.display="block"}}else{showModule=function(j,h,d){var g=document.getElementById(j),f=0,e=g.getElementsByTagName(d);len=e.length;for(f;f<len;f++){if(e.className==h){e[f].style.display="block";e=null;break}}}}}showModule(c,b,a)}function hideModule(c,b,a){if(typeof document.querySelector){hideModule=function(f,e,d){document.querySelector("#"+f+" ."+e).style.display="none"}}else{if(typeof document.getElementsByClassName){hideModule=function(f,e,d){document.getElementById(f).getElementsByClassName(e)[0].style.display="none"}}else{hideModule=function(j,h,d){var g=document.getElementById(j),f=0,e=g.getElementsByTagName(d);len=e.length;for(f;f<len;f++){if(e.className==h){e[f].style.display="none";e=null;break}}}}}hideModule(c,b,a)}function getClassName(c,b,a){if(typeof document.querySelector){getClassName=function(f,e,d){return document.querySelector("#"+f+" ."+e)}}else{if(typeof document.getElementsByClassName){getClassName=function(f,e,d){return document.getElementById(f).getElementsByClassName(e)[0]}}else{getClassName=function(j,h,d){var g=document.getElementById(j),f=0,e=g.getElementsByTagName(d);len=e.length;for(f;f<len;f++){if(e.className==h){return e[f]}}}}}return getClassName(c,b,a)}function hasShowMoudule(c,e,b,a,d){switch(b){case"content-year":if(d.type=="D"){hideModule(e,"content-month","div")}else{if(d.type=="M"){hideModule(e,"content-date","div")}else{hideModule(e,"content-month","div");hideModule(e,"content-date","div")}}if(d.type!=="Y"){if(getComputedStyleAttrValue(c,"display")=="none"){showModule(e,"content-year","div")}else{hideModule(e,"content-year","div")}}break;case"content-month":if(d.type=="D"){hideModule(e,"content-year","div")}else{if(d.type=="Y"){hideModule(e,"content-date","div")}else{hideModule(e,"content-year","div");hideModule(e,"content-date","div")}}if(d.type!=="M"){if(getComputedStyleAttrValue(c,"display")=="none"){showModule(e,"content-month","div")}else{hideModule(e,"content-month","div")}}break;case"content-date":if(d.type=="M"){hideModule(e,"content-year","div")}else{if(d.type=="Y"){hideModule(e,"content-month","div")}else{hideModule(e,"content-year","div");hideModule(e,"content-month","div")}}if(d.type!=="D"){if(getComputedStyleAttrValue(c,"display")=="none"){showModule(e,"content-date","div")}else{hideModule(e,"content-date","div")}}break}}function initTag(d,e,f){var b;for(var c=0,a=d.length;c<a;c++){if(d[c].nodeType==1&&d[c].className.indexOf(e)>-1){b=d[c];break}}if(!b){for(var c=0,a=d.length;c<a;c++){if(d[c].nodeType==1&&parseInt(d[c].firstChild.nodeValue)==f){b=d[c];break}}addClass(b,e)}return c}function changeTag(c,d,e){for(var b=0,a=c.length;b<a;b++){if(c[b].nodeType==1&&c[b].className.indexOf("on")>-1){removeClass(c[b],"on");break}}for(var b=0,a=c.length;b<a;b++){if(c[b].nodeType==1&&parseInt(c[b].firstChild.nodeValue)==e){addClass(c[b],"on");break}}}function getTagIndex(c,d){for(var b=0,a=c.length;b<a;b++){if(c[b].nodeType==1&&c[b].className.indexOf("on")>-1){return b}}}function getDateType(b,d){var a={},c=false;if(b%400==0||b%4==0&&b%100!=0){c=true}a.week=new Date(b,(d-1),1).getDay();a.prevDay=getDayCount(c,d-1);a.currDay=getDayCount(c,d);a.nextDay=getDayCount(c,d+1);return a}function getDayCount(c,b){var a;if(b>12){b=1}if(b<1){b=12}switch(b){case 1:case 3:case 5:case 7:case 8:case 10:case 12:a=31;break;case 4:case 6:case 9:case 11:a=30;break;case 2:if(c){a=29}else{a=28}}return a
}function changeDayBtns(e,f){var b=getDateType(e.year,e.month);var g=getClassName(f.id,"content-day","div").getElementsByTagName("a");var d=0,c=b.prevDay-b.week;if(b.week<7&&b.week>0){while(d<b.week){g[d].className="not";g[d].firstChild.nodeValue=++c;d++}}var a=b.currDay+b.week,c=0;while(d<a){if((c+b.week)%7==0||(c+b.week-6)%7==0){g[d].className="week day-btns";g[d].firstChild.nodeValue=++c}else{g[d].className="day-btns";g[d].firstChild.nodeValue=++c}d++}c=0;while(d<42){g[d].className="not";g[d].firstChild.nodeValue=++c;d++}}function solveTime(a,b,c){if(a<10){a="0"+a}if(b<10){b="0"+b}if(c<10){c="0"+c}return{hours:a,minutes:b,seconds:c}}function solveDate(a,c,b){switch(b){case"Y-M-D-H":a.year=c.getFullYear();a.month=c.getMonth()+1;a.day=c.getDate();a.week=c.getDay();a.hours=c.getHours();a.minutes=c.getMinutes();a.seconds=c.getSeconds();a.currDate=c;break;case"Y-M-D":a.year=c.getFullYear();a.month=c.getMonth()+1;a.day=c.getDate();a.week=c.getDay();a.hours=undefined;a.minutes=undefined;a.seconds=undefined;a.currDate=c;break;case"Y-M":a.year=c.getFullYear();a.month=c.getMonth()+1;a.day=undefined;a.week=undefined;a.hours=undefined;a.minutes=undefined;a.seconds=undefined;a.currDate=c;break;case"Y":a.month=undefined;a.day=undefined;a.week=undefined;a.hours=undefined;a.minutes=undefined;a.seconds=undefined;a.currDate=c;break;case"M":a.year=undefined;a.day=undefined;a.week=undefined;a.hours=undefined;a.minutes=undefined;a.seconds=undefined;a.currDate=c;break;case"D":a.year=undefined;a.month=undefined;a.hours=undefined;a.minutes=undefined;a.seconds=undefined;a.currDate=c;break;case"H":a.year=undefined;a.month=undefined;a.day=undefined;a.week=undefined;a.hours=c.getHours();a.minutes=c.getMinutes();a.seconds=c.getSeconds();a.currDate=c;break}}function setInputTimeValue(e,a,b,k,j){switch(b.type){case"Y-M-D-H":getClassName(b.id,"datePicker-input","input").value=e.year+"年"+e.month+"月"+e.day+"日  "+a.hours+":"+a.minutes+":"+a.seconds;break;case"Y-M-D":getClassName(b.id,"datePicker-input","input").value=e.year+"年"+e.month+"月"+e.day+"日  ";break;case"Y-M":getClassName(b.id,"datePicker-input","input").value=e.year+"年"+e.month+"月";break;case"Y":getClassName(b.id,"datePicker-input","input").value=e.year+"年";var g=getClassName(b.id,"content-year","div");var c=getClassName(b.id,"content-year","div").getElementsByTagName("a");getClassName(b.id,"year-input","input").value=e.year+"年";changeTag(c,"on",e.year);g.scrollTop=parseInt((getTagIndex(c,"on")-1)/2)*38;break;case"M":getClassName(b.id,"datePicker-input","input").value=e.month+"月";break;case"D":getClassName(b.id,"datePicker-input","input").value=e.day+"日  ";var h=getClassName(b.id,"content-day","div").getElementsByTagName("a");for(var d=0,f=h.length;d<f;d++){if(h[d].nodeType==1&&h[d].className.indexOf("on")>-1){removeClass(h[d],"on");break}}for(var d=0,f=h.length;d<f;d++){if(h[d].nodeType==1&&h[d].firstChild.nodeValue==e.day){addClass(h[d],"on");break}}break;case"H":if(typeof j=="object"){var a=solveTime(-j.scrollHours,-j.scrollMinutes,-j.scrollSeconds)}getClassName(b.id,"datePicker-input","input").value=a.hours+":"+a.minutes+":"+a.seconds;break}solveDate(e,k,b.type)}function eventHandler(g,b,a,s){s=getEvent(s);var v=getTarget(s);var u=v.className.split(" ");for(var o=0;o<u.length;o++){switch(u[o]){case"year-input":var q=getClassName(g.id,"content-year","div");var m=q.getElementsByTagName("a");var h;hasShowMoudule(q,g.id,"content-year","div",g);if(typeof b.year=="number"&&b.year>0){h=initTag(m,"on",b.year)}else{h=initTag(m,"on",b.currDate.getFullYear())}if(typeof h=="undefined"){q.scrollTop=12*38}else{q.scrollTop=parseInt((h-1)/2)*38}break;case"year_btns":var m=v.parentNode.parentNode.getElementsByTagName("a");for(var o=0,p=m.length;o<p;o++){if(m[o].nodeType==1&&m[o].className.indexOf("on")>-1){removeClass(m[o],"on");break}}addClass(v,"on");var l=v.firstChild.nodeValue;b.year=parseInt(l);getClassName(g.id,"year-input","input").value=l;if(g.type!=="Y"){hideModule(g.id,"content-year","div")}else{getClassName(g.id,"datePicker-input","input").value=l}changeDayBtns(b,g);break;case"year-prev":var q=getClassName(g.id,"content-year","div");var m=getClassName(g.id,"content-year","div").getElementsByTagName("a");var l=parseInt(getClassName(g.id,"year-input","input").value)-1;if(l<=b.currDate.getFullYear()-25){l=b.currDate.getFullYear()-25}if(g.type==="Y"){getClassName(g.id,"datePicker-input","input").value=l+"年"}b.year=l;getClassName(g.id,"year-input","input").value=l+"年";changeTag(m,"on",l);q.scrollTop=parseInt((getTagIndex(m,"on")-1)/2)*38;changeDayBtns(b,g);break;case"year-next":var q=getClassName(g.id,"content-year","div");var m=getClassName(g.id,"content-year","div").getElementsByTagName("a");var l=parseInt(getClassName(g.id,"year-input","input").value)+1;if(l>=b.currDate.getFullYear()+24){l=b.currDate.getFullYear()+24}if(g.type==="Y"){getClassName(g.id,"datePicker-input","input").value=l+"年"}b.year=l;getClassName(g.id,"year-input","input").value=l+"年";changeTag(m,"on",l);q.scrollTop=parseInt((getTagIndex(m,"on")-1)/2)*38;
changeDayBtns(b,g);break;case"month-input":var c=getClassName(g.id,"content-month","div");hasShowMoudule(c,g.id,"content-month","div",g);var k=c.getElementsByTagName("a");initTag(k,"on",b.currDate.getMonth()+1);break;case"mth_btns":var k=v.parentNode.parentNode.getElementsByTagName("a");for(var o=0,p=k.length;o<p;o++){if(k[o].nodeType==1&&k[o].className.indexOf("on")>-1){removeClass(k[o],"on");break}}addClass(v,"on");var t=v.firstChild.nodeValue;b.month=parseInt(t);getClassName(g.id,"month-input","input").value=t;if(g.type!=="M"){hideModule(g.id,"content-month","div")}else{getClassName(g.id,"datePicker-input","input").value=t}changeDayBtns(b,g);break;case"month-prev":var k=getClassName(g.id,"content-month","div").getElementsByTagName("a");var t=parseInt(getClassName(g.id,"month-input","input").value)-1;if(g.type==="M"){getClassName(g.id,"datePicker-input","input").value=t+"月";if(t<1){t=12}}else{if(t<1){if(parseInt(getClassName(g.id,"year-input","input").value)>b.currDate.getFullYear()-25){t=12;getClassName(g.id,"year-input","input").value=(--b.year)+"年"}else{t=1}}}b.month=t;getClassName(g.id,"month-input","input").value=t+"月";changeTag(k,"on",t);changeDayBtns(b,g);break;case"month-next":var k=getClassName(g.id,"content-month","div").getElementsByTagName("a");var t=parseInt(getClassName(g.id,"month-input","input").value)+1;if(g.type==="M"){getClassName(g.id,"datePicker-input","input").value=t+"月";if(t>12){t=1}}else{if(t>12){if(parseInt(getClassName(g.id,"year-input","input").value)<b.currDate.getFullYear()+24){t=1;getClassName(g.id,"year-input","input").value=(++b.year)+"年"}else{t=12}}}b.month=t;getClassName(g.id,"month-input","input").value=t+"月";changeTag(k,"on",t);var w=getDateType(b.year,b.month);var f=getClassName(g.id,"content-day","div").getElementsByTagName("a");changeDayBtns(b,g);break;case"day-btns":var d=v.parentNode.parentNode.getElementsByTagName("a");for(var o=0,p=d.length;o<p;o++){if(d[o].nodeType==1&&d[o].className.indexOf("on")>-1){removeClass(d[o],"on");break}}addClass(v,"on");var n=v.firstChild.nodeValue;b.day=parseInt(n);if(g.type==="D"){getClassName(g.id,"datePicker-input","input").value=n+"日"}break;case"date-btns-close":getClassName(g.id,"datePicker-input","input").value="";solveDate(b,b.currDate);break;case"date-btns-today":var r=new Date();var j=solveTime(r.getHours(),r.getMinutes(),r.getSeconds());if(g.type==="Y"){b.year=r.getFullYear()}if(g.type==="D"){b.day=r.getDate()}if(g.type==="M"){b.month=b.currDate.getMonth()+1;getClassName(g.id,"month-input","input").value=b.month+"月"}setInputTimeValue(b,j,g,r);if(!g.showDate){hideModule(g.id,"datePicker-showdate","div")}break;case"date-btns-confirm":var r=new Date();var j=solveTime(b.hours,b.minutes,b.seconds);setInputTimeValue(b,j,g,r,a);if(!g.showDate){hideModule(g.id,"datePicker-showdate","div")}break;case"showTime":hideModule(g.id,"content-year","div");hideModule(g.id,"content-month","div");showModule(g.id,"content-date","div");getClassName(g.id,"date-hours","ul").style.top=a.scrollHours*30+"px";getClassName(g.id,"date-minutes","ul").style.top=a.scrollMinutes*30+"px";getClassName(g.id,"date-seconds","ul").style.top=a.scrollSeconds*30+"px";break;case"confirm":var j=solveTime(-a.scrollHours,-a.scrollMinutes,-a.scrollSeconds);getClassName(g.id,"showTime","input").firstChild.nodeValue=j.hours+":"+j.minutes+":"+j.seconds;b.hours=parseInt(j.hours);b.minutes=parseInt(j.minutes);b.seconds=parseInt(j.seconds);if(g.type!=="H"){hideModule(g.id,"content-date","div")}else{getClassName(g.id,"datePicker-input","input").value=j.hours+":"+j.minutes+":"+j.seconds}break;case"cancel":if(g.type!=="H"){hideModule(g.id,"content-date","div")}break;case"datePicker-input":showModule(g.id,"datePicker-showdate","div");break}}stopPropagation(s)}function scrollFunc(c,b,a){if(c.wheelDelta){if(c.wheelDelta>0){b[a]++}if(c.wheelDelta<0){b[a]--}}else{if(c.detail){if(c.detail>0){b[a]--}if(c.detail<0){b[a]++}}}if(b.scrollHours>=0){b.scrollHours=0}if(b.scrollHours<=-23){b.scrollHours=-23}if(b.scrollMinutes>=0){b.scrollMinutes=0}if(b.scrollMinutes<=-59){b.scrollMinutes=-59}if(b.scrollSeconds>=0){b.scrollSeconds=0}if(b.scrollSeconds<=-59){b.scrollSeconds=-59}}function scrollHandler(f,d){var a=0;d=getEvent(d);var c=getTarget(d);var g=c.className.split(" ");if(c.tagName.toLocaleLowerCase()=="a"){g=c.parentNode.parentNode.className.split(" ")}for(var b=0;b<g.length;b++){switch(g[b]){case"date-hours":scrollFunc(d,f,"scrollHours");c.parentNode.parentNode.style.top=f.scrollHours*30+"px";break;case"date-minutes":scrollFunc(d,f,"scrollMinutes");c.parentNode.parentNode.style.top=f.scrollMinutes*30+"px";break;case"date-seconds":scrollFunc(d,f,"scrollSeconds");c.parentNode.parentNode.style.top=f.scrollSeconds*30+"px";break}}}function DatePicker(c){this.myDate={year:0,month:0,day:0,week:0,hours:0,minutes:0,seconds:0,currDate:new Date()};this.param=c;var g=this.myDate;if(this instanceof DatePicker==false){return new DatePicker(c)}if(typeof c==="object"){var h,m;if(typeof c.id=="undefined"){throw new Error("ID 不能为空!")
}h=document.getElementById(c.id);m='<div class="datePicker-box">'+'<input type="text" class="datePicker-input"/>'+'<div class="datePicker-icon">day</div>'+"</div>"+'<div class="datePicker-showdate">'+'<ul class="date-title">'+'<li class="btn y-l-btn"><a class="year-prev" href="javascript:void(0);">◄</a></li>'+'<li class="text y-text"><input type="text" name="" class="year-input" value="2016年" /></li>'+'<li class="btn y-r-btn"><a class="year-next" href="javascript:void(0);">►</a></li>'+'<li class="btn m-l-btn"><a class="month-prev" href="javascript:void(0);">◄</a></li>'+'<li class="text m-text"><input class="month-input" type="text" name="" id="" value="6月" /></li>'+'<li class="btn m-r-btn"><a class="month-next" href="javascript:void(0);">►</a></li>'+"</ul>"+'<ul class="date-title2"></ul>'+'<div class="data-content">'+'<div class="content-day">'+'<ul class="week-title">'+"<li>日</li>"+"<li>一</li>"+"<li>二</li>"+"<li>三</li>"+"<li>四</li>"+"<li>五</li>"+"<li>六</li>"+"</ul>"+'<ul class="day-content">';var e=getDateType(g.currDate.getFullYear(),g.currDate.getMonth()+1);if(e.week<7){for(var d=e.prevDay-e.week,j=e.prevDay;d<j;d++){m+='<li><a class="not" href="javascript:void(0);"> '+(d+1)+" </a></li>"}}for(var d=0,j=e.currDay;d<j;d++){if(d+1!=g.currDate.getDate()){if((d+e.week)%7==0||(d+e.week-6)%7==0){m+='<li><a class="day-btns week" href="javascript:void(0);"> '+(d+1)+" </a></li>"}else{m+='<li><a class="day-btns" href="javascript:void(0);"> '+(d+1)+" </a></li>"}}else{m+='<li><a class="day-btns on" href="javascript:void(0);"> '+(d+1)+" </a></li>"}}for(var d=0,j=42-e.currDay-e.week;d<j;d++){m+='<li><a class="not" href="javascript:void(0);"> '+(d+1)+" </a></li>"}m+="</ul></div>"+'<div class="content-month">'+'<div id="close-month"><a href="javascript:void(0);">×</a></div>'+"<ul>"+'<li><a class="mth_btns" href="javascript:void(0);">1月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">2月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">3月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">4月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">5月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">6月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">7月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">8月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">9月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">10月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">11月</a></li>'+'<li><a class="mth_btns" href="javascript:void(0);">12月</a></li>'+"</ul>"+"</div>"+'<div class="content-year">'+'<div id="close-year"><a href="javascript:void(0);">×</a></div>'+"<ul>";var o=g.currDate.getFullYear()-25;for(var d=0;d<50;d++){m+='<li><a class="year_btns" href="javascript:void(0);">'+(o++)+"年</a></li>"}m+="</ul>"+"</div>"+'<div class="content-date">'+'<div class="date-check">'+'<span class="cancel">取消</span>'+'<span class="confirm">确定</span>'+"</div>"+'<div class="date-line"></div>'+'<ul class="date-hours">';for(var d=0;d<24;d++){if(d<10){m+='<li><a href="javascript:void(0);">0'+d+"</a></li>"}else{m+='<li><a href="javascript:void(0);">'+d+"</a></li>"}}m+='</ul><ul class="date-minutes">';for(var d=0;d<60;d++){if(d<10){m+='<li><a href="javascript:void(0);">0'+d+"</a></li>"}else{m+='<li><a href="javascript:void(0);">'+d+"</a></li>"}}m+='</ul><ul class="date-seconds">';for(var d=0;d<60;d++){if(d<10){m+='<li><a href="javascript:void(0);">0'+d+"</a></li>"}else{m+='<li><a href="javascript:void(0);">'+d+"</a></li>"}}m+="</div>"+'<div class="date-bottom">'+'<ul class="date-date">'+'<li class="key">时间</li>'+'<li class="value"><a class="showTime" href="javascript:void(0);">12:00:00</a></li>'+"</ul>"+'<ul class="date-btns">'+'<li><a class="date-btns-close" href="javascript:void(0);">清空</a></li>'+'<li><a class="date-btns-today" href="javascript:void(0);">今天</a></li>'+'<li><a class="date-btns-confirm" href="javascript:void(0);">确定</a></li>'+"</ul>"+"</div>"+"</div>"+"</div>";h.innerHTML=m;if(typeof c.type!="undefined"){switch(c.type){case"Y-M-D-H":hideModule(c.id,"content-year","div");hideModule(c.id,"content-month","div");hideModule(c.id,"content-date","div");showModule(c.id,"date-date","ul");showModule(c.id,"content-day","div");break;case"Y-M-D":hideModule(c.id,"content-year","div");hideModule(c.id,"content-month","div");hideModule(c.id,"content-date","div");hideModule(c.id,"date-date","ul");showModule(c.id,"content-day","div");break;case"Y-M":hideModule(c.id,"content-year","div");showModule(c.id,"content-month","div");hideModule(c.id,"content-date","div");hideModule(c.id,"date-date","ul");hideModule(c.id,"content-day","div");break;case"Y":showModule(c.id,"content-year","div");hideModule(c.id,"content-month","div");hideModule(c.id,"content-date","div");hideModule(c.id,"date-date","ul");hideModule(c.id,"content-day","div");hideModule(c.id,"m-l-btn","li");hideModule(c.id,"m-text","li");hideModule(c.id,"m-r-btn","li");break;case"M":hideModule(c.id,"content-year","div");
showModule(c.id,"content-month","div");hideModule(c.id,"content-date","div");hideModule(c.id,"date-date","ul");hideModule(c.id,"content-day","div");hideModule(c.id,"y-l-btn","li");hideModule(c.id,"y-text","li");hideModule(c.id,"y-r-btn","li");break;break;case"D":hideModule(c.id,"content-year","div");hideModule(c.id,"content-month","div");hideModule(c.id,"content-date","div");hideModule(c.id,"date-date","ul");showModule(c.id,"content-day","div");hideModule(c.id,"date-title","ul");showModule(c.id,"date-title2","ul");break;case"H":hideModule(c.id,"content-year","div");hideModule(c.id,"content-month","div");showModule(c.id,"content-date","div");hideModule(c.id,"date-date","ul");showModule(c.id,"content-day","div");hideModule(c.id,"date-title","ul");showModule(c.id,"date-title2","ul");break}}if(c.type==="D"){g.day=g.currDate.getDate();g.week=g.currDate.getDay()}if(c.type==="M"){g.month=g.currDate.getMonth()+1}solveDate(g,g.currDate,c.type);hideModule(c.id,"datePicker-showdate","div");if(c.showDate){showModule(c.id,"datePicker-showdate","div")}if(typeof c.showInput!="undefined"&&c.showInput==false){hideModule(c.id,"datePicker-box","div")}getClassName(c.id,"year-input","input").value=g.currDate.getFullYear()+"年";getClassName(c.id,"month-input","input").value=(g.currDate.getMonth()+1)+"月";var a=solveTime(g.hours,g.minutes,g.seconds);getClassName(c.id,"showTime","input").firstChild.nodeValue=a.hours+":"+a.minutes+":"+a.seconds;var b=document.getElementById(c.id);var l={scrollHours:-g.hours,scrollMinutes:-g.minutes,scrollSeconds:-g.seconds};if(c.type==="H"){getClassName(c.id,"date-hours","ul").style.top=l.scrollHours*30+"px";getClassName(c.id,"date-minutes","ul").style.top=l.scrollMinutes*30+"px";getClassName(c.id,"date-seconds","ul").style.top=l.scrollSeconds*30+"px"}function k(i){eventHandler(c,g,l,i)}addEventHandler(b,"click",k);var n=getClassName(c.id,"content-date","div");n.isSupportMouseWheel="onmousewheel" in document?true:false;var f=function(i){scrollHandler(l,i)};if(n.isSupportMouseWheel){addEventHandler(n,"mousewheel",f)}else{addEventHandler(n,"DOMMouseScroll",f)}addEventHandler(document,"click",function(){if(!c.showDate){hideModule(c.id,"datePicker-showdate","div")}})}else{throw new Error("参数类型不对!")}}DatePicker.prototype.getYear=function(){if(typeof this.myDate.year=="undefined"){throw new EvalError("DatePicker years cannot be obtained, see when you use DatePicker constructor,"+" set the type property contains the 'Y'!")}else{return this.myDate.year}};DatePicker.prototype.setYear=function(a){if(typeof this.myDate.year=="undefined"||typeof a!="number"){throw new EvalError("DatePicker cannot set the year view when you use DatePicker constructor, "+"type property contains 'Y'! Or see if you set up the number of years is correct!")}else{this.myDate.year=a}};DatePicker.prototype.getMonth=function(){if(typeof this.myDate.month=="undefined"){throw new EvalError("DatePicker month cannot be obtained, see when you use DatePicker constructor, "+"set the type property contains'M'!")}else{return this.myDate.month}};DatePicker.prototype.setMonth=function(a){if(typeof this.myDate.month=="undefined"||typeof a!="number"){throw new EvalError("DatePicker month cannot be set, see when you use DatePicker constructor, "+"type property contains'M'! Or see if you set the number of months is right!")}else{this.myDate.month=a}};DatePicker.prototype.getDay=function(){if(typeof this.myDate.day=="undefined"){throw new EvalError("DatePicker days cannot be obtained, see when you use DatePicker constructor,"+" set the type property contains'D'!")}else{return this.myDate.day}};DatePicker.prototype.setDay=function(b){if(typeof this.myDate.day=="undefined"||typeof b!="number"){throw new EvalError("DatePicker cannot set the number of days, see when you use DatePicker constructor, "+"type property contains'D'! Or see if you set the number of days is correct!")}else{switch(this.param.type){case"Y-M-D-H":case"Y-M-D":var a=new Date(this.myDate.year,this.myDate.month-1,b);this.myDate.day=b;this.myDate.week=a.getDay();break;case"D":this.myDate.day=b;break}}};DatePicker.prototype.getWeek=function(){if(typeof this.myDate.week=="undefined"){throw new EvalError("DatePicker days cannot be obtained, see when you use DatePicker constructor,"+" set the type property contains'D'!")}else{return this.myDate.week}};DatePicker.prototype.getHours=function(){if(typeof this.myDate.hours=="undefined"){throw new EvalError("DatePicker cannot get the hours, see when you use DatePicker constructor, "+"set the type property contains 'H'!")}else{return this.myDate.hours}};DatePicker.prototype.setHours=function(a){if(typeof this.myDate.hours=="undefined"||typeof a!="number"||a<0||a>23){throw new EvalError("DatePicker cannot set hour, please check when you use DatePicker constructor, "+"type property contains 'H'! Or view, you modify the correct hour")}else{this.myDate.hours=a}};DatePicker.prototype.getMinutes=function(){if(typeof this.myDate.minutes=="undefined"){throw new EvalError("DatePicker cannot get the minutes, please check when you use DatePicker constructor,"+" set the type property contains 'H'!")
}else{return this.myDate.minutes}};DatePicker.prototype.setMinutes=function(a){if(typeof this.myDate.minutes=="undefined"||typeof a!="number"||a<0||a>59){throw new EvalError("DatePicker cannot set the minutes, please check when you use DatePicker constructor, "+"type property contains 'H'! Or view, you modify the correct minutes")}else{this.myDate.minutes=a}};DatePicker.prototype.getSeconds=function(){if(typeof this.myDate.seconds=="undefined"){throw new EvalError("DatePicker cannot get the number of seconds, please check when you use DatePicker constructor,"+" set the type property contains 'H'!")}else{return this.myDate.seconds}};DatePicker.prototype.setSeconds=function(a){if(typeof this.myDate.seconds=="undefined"||typeof a!="number"||a<0||a>59){throw new EvalError("DatePicker cannot set the number of seconds, please check when you use DatePicker constructor, "+"type property contains 'H'! Or see if you modify the number of seconds is the correct")}else{this.myDate.seconds=a}};
